<%- include('../partials/header', { title: 'Dashboard', cssFile: 'dashboard' }) %>

<nav class="navbar">
    <a href="/" class="logo">HAVEN</a>
    <div class="nav-links">
        <a href="/destinations">Destinations</a>
        <a href="/wellness">Wellness</a>
        <a href="/about">About</a>
        <a href="/contact">Contact</a>
    </div>
    <div class="user-info">
        <% if(user) { %>
            <span>Welcome, <%= user.username || user.email.split('@')[0] %></span>
            <a href="/auth/logout" class="logout-btn">Logout</a>
        <% } %>
    </div>
</nav>

<div class="dashboard-container">
    <div class="profile-header">
        <div class="profile-banner"></div>
        <div class="profile-avatar">
            <span><%= (user.username || user.email.split('@')[0])[0].toUpperCase() %></span>
        </div>
        <h1>Welcome, <%= user.username || user.email.split('@')[0] %></h1>
        <p>Member since <%= new Date(user.createdAt).toLocaleDateString('en-US', {year: 'numeric', month: 'long', day: 'numeric'}) %></p>
    </div>

    <section class="welcome-section">
        <h2>Your Haven Experience</h2>
        <p>Explore our exclusive services and offers</p>
    </section>

    <section class="stats-container">
        <% const stats = [
            { number: '5', label: 'Luxury Locations' },
            { number: '150+', label: 'Staff Members' },
            { number: '1000+', label: 'Happy Guests' },
            { number: '95%', label: 'Satisfaction Rate' }
        ]; %>
        
        <% stats.forEach(stat => { %>
            <div class="stat-card">
                <div class="stat-number"><%= stat.number %></div>
                <div class="stat-label"><%= stat.label %></div>
            </div>
        <% }); %>
    </section>

    <section class="department-grid">
        <% const departments = [
            {
                name: 'Accommodations',
                subdepartments: ['Luxury Suites', 'Executive Rooms', 'Presidential Villas', 'Ocean View Rooms']
            },
            {
                name: 'Wellness Center',
                subdepartments: ['Spa Services', 'Yoga Studio', 'Fitness Center', 'Meditation Spaces']
            },
            {
                name: 'Dining',
                subdepartments: ['Fine Dining Restaurant', 'Casual Bistro', 'Rooftop Bar', 'Private Dining']
            },
            {
                name: 'Events & Meetings',
                subdepartments: ['Conference Rooms', 'Wedding Venues', 'Banquet Halls', 'Business Center']
            },
            {
                name: 'Recreation',
                subdepartments: ['Swimming Pools', 'Beach Access', 'Tennis Courts', 'Golf Course']
            },
            {
                name: 'Guest Services',
                subdepartments: ['Concierge', 'Transportation', 'Housekeeping', '24/7 Room Service']
            }
        ]; %>
        
        <% departments.forEach(department => { %>
            <div class="department-card">
                <h2><%= department.name %></h2>
                <ul class="subdepartment-list">
                    <% department.subdepartments.forEach(subdepartment => { %>
                        <li><%= subdepartment %></li>
                    <% }); %>
                </ul>
            </div>
        <% }); %>
    </section>
</div>

<div class="nav-buttons">
    <a href="javascript:history.back()" class="nav-button">Back</a>
    <a href="/" class="nav-button">Home</a>
</div>

<%- include('../partials/footer', { jsFile: 'dashboard' }) %>
